{% extends 'layout.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card hero-card mb-4">
            <div class="card-body text-center py-5">
                <h1 class="display-4 mb-3">Find Your Perfect Job Match</h1>
                <p class="lead mb-4">Upload your CV and get personalized job recommendations based on your skills and experience.</p>
                <div class="card upload-card mx-auto">
                    <div class="card-body">
                        <form id="cv-upload-form" action="{{ url_for('upload_cv') }}" method="post" enctype="multipart/form-data">
                            <div class="mb-4 text-center">
                                <div class="upload-area" id="upload-area">
                                    <i class="fas fa-file-upload fa-3x mb-3"></i>
                                    <h5>Drag & Drop your CV</h5>
                                    <p class="text-muted small">or click to browse</p>
                                    <input type="file" name="cv_file" id="cv-file" class="d-none" accept=".pdf,.docx">
                                </div>
                                <div id="file-info" class="mt-3 d-none">
                                    <div class="d-flex align-items-center justify-content-center">
                                        <i class="fas fa-file-alt me-2"></i>
                                        <span id="file-name">filename.pdf</span>
                                        <button type="button" id="remove-file" class="btn btn-sm text-danger ms-2">
                                            <i class="fas fa-times-circle"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center">
                                <p class="small text-muted mb-3">Supported formats: PDF, DOCX (Max 16MB)</p>
                                <button type="submit" id="upload-button" class="btn btn-primary btn-lg px-4" disabled>
                                    Find Matching Jobs
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-body">
                <h2 class="card-title">How It Works</h2>
                <div class="row mt-4">
                    <div class="col-md-4 text-center mb-3 mb-md-0">
                        <div class="feature-icon">
                            <i class="fas fa-upload"></i>
                        </div>
                        <h5 class="mt-3">Upload Your CV</h5>
                        <p class="text-muted">Upload your resume in PDF or DOCX format.</p>
                    </div>
                    <div class="col-md-4 text-center mb-3 mb-md-0">
                        <div class="feature-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h5 class="mt-3">Analyze Skills</h5>
                        <p class="text-muted">Our system analyzes your skills and experience.</p>
                    </div>
                    <div class="col-md-4 text-center">
                        <div class="feature-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h5 class="mt-3">Get Matches</h5>
                        <p class="text-muted">Receive personalized job recommendations.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-body">
                <h2 class="card-title">Why Choose JobMatch Pro?</h2>
                <ul class="check-list mt-3">
                    <li><i class="fas fa-check-circle text-success me-2"></i> Intelligent skill extraction technology</li>
                    <li><i class="fas fa-check-circle text-success me-2"></i> Personalized job recommendations</li>
                    <li><i class="fas fa-check-circle text-success me-2"></i> Privacy-focused secure processing</li>
                    <li><i class="fas fa-check-circle text-success me-2"></i> Quick and easy to use</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Loading overlay -->
<div id="loading-overlay" class="d-none">
    <div class="spinner-container">
        <div class="spinner-border text-light" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3 text-light">Processing your CV...</p>
    </div>
</div>
{% endblock %}
